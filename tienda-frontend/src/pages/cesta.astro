---
import Layout from "../layouts/MainLayout.astro";
---

<Layout title="Cesta">
  <header>
    <h2 class="mt-8 mb-8 text-2xl text-center font-semibold">
      CESTA DE COMPRA
    </h2>
  </header>

  <div class="flex flex-col md:flex-row">
    <!-- Productos seleccionados -->
    <div class="w-full md:w-1/2 p-4">
      <div class="block">
        <h2 class="font-bold text-xl mb-4 text-gray-700 dark:text-white">
          Productos seleccionados
        </h2>
        <div class="flex items-center mb-4">
          <input type="checkbox" class="mr-2" />
          <p class="text-gray-600 dark:text-white">
            Selecciona todos los productos
          </p>
        </div>
      </div>
      <!-- Producto -->
      <div class="flex items-center mb-4 border-b pb-4">
        <img
          src="https://static.zara.net/assets/public/8149/7af1/d7d74347a4ca/578e1c9b9ed4/06462411800-e1/06462411800-e1.jpg?ts=1709823508515&w=750"
          alt="Producto"
          class="w-16 h-16 mr-4"
        />
        <div>
          <h3 class="font-bold text-gray-700 dark:text-white">
            Conjunto para mujer
          </h3>
          <p class="font-bold text-green-500">S/ 40.00</p>
        </div>
        <div class="ml-auto">
          <button
            id="decrement"
            class="px-2 font-semibold bg-gray-200 dark:bg-gray-700">-</button
          >
          <span id="number" class="mx-2 font-semibold">1</span>
          <button
            id="increment"
            class="px-2 font-semibold bg-gray-200 dark:bg-gray-700">+</button
          >
        </div>
      </div>
      <!-- Otros productos... -->
    </div>
    <!-- Resumen -->
    <div class="w-full md:w-1/2 p-4">
      <h2 class="font-bold text-xl mb-4 text-gray-700 dark:text-white">
        Resumen
      </h2>
      <p class="mb-4 text-gray-600 dark:text-white">
        Total a pagar: <span class="font-bold text-green-500">S/ 40.00</span>
      </p>
      <button
        class="px-4 py-2 mb-2 w-full md:w-auto bg-blue-500 text-white"
        onclick="location.href='./ventas'">Seguir comprando</button
      >
      <button class="bg-red-500 text-white px-4 py-2 mb-2 w-full md:w-auto"
        >Cancelar</button
      >
      <button
        class="bg-green-500 text-white px-4 py-2 w-full md:w-auto"
        onclick="location.href='./compras'"
      >
        Pagar productos
      </button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const numberSpan = document.getElementById("number") as HTMLSpanElement;
      const decrementButton = document.getElementById(
        "decrement",
      ) as HTMLButtonElement;
      const incrementButton = document.getElementById(
        "increment",
      ) as HTMLButtonElement;

      decrementButton.addEventListener("click", () => {
        let currentNumber = parseInt(numberSpan.textContent as string);
        if (currentNumber > 0) {
          numberSpan.textContent = (currentNumber - 1).toString();
        }
      });

      incrementButton.addEventListener("click", () => {
        let currentNumber = parseInt(numberSpan.textContent as string);
        numberSpan.textContent = (currentNumber + 1).toString();
      });
    });
  </script>
</Layout>
